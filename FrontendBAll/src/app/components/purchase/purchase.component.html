<app-navbar></app-navbar>

<div class="container">
  <div class="row">
    <div class="col-md-6" style="padding: 2%;" *ngIf="TheEvent">
      <div class="text-center">
        <img class="w-50" mat-card-image [src]="TheEvent.image">
        <h1 style="font-size: 36px; color: #333;">{{TheEvent.name}}</h1>
        <p style="font-size: 18px; color: #666;">Ubicaci√≥n: {{TheEvent.location}}</p>
        <p style="font-size: 16px; color: #777;">Detalles del evento: <br>{{TheEvent.description}}</p>

        <div class="d-flex justify-content-center">
          <table class="table w-75" style="background-color: #f5f5f5;">
            <thead>
              <tr>
                <th style="color: #333;">Inicio</th>
                <th style="color: #333;">Fin</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let event of DatesEvent">
                <td>{{event.starTime}}</td>
                <td>{{event.endTime}}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="d-flex justify-content-center">
          <table class="table w-75" style="background-color: #f5f5f5;">
            <thead>
              <tr>
                <th style="color: #333;">Zona</th>
                <th style="color: #333;">Precio</th>
                <th style="color: #333;">Capacidad</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of ZoneEvents">
                <td>{{item.name}}</td>
                <td>S/. {{item.price}}</td>
                <td>{{item.capacity}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="col-md-6" >
      <label style="margin-top: 10%;">Datos del evento</label>
  
      <div>
        
    <div class="d-flex" >

      <form [formGroup]="addPurchaseForm" class="space" >
        
        <mat-form-field class="form-container-1" >
          <mat-label>Fecha</mat-label>
            <mat-select placeholder="Fecha" formControlName="Fecha" (selectionChange)="($event)" click="ListZoneEvents()">
            <mat-option *ngFor="let item of DatesEvent" [value]="item.id">
              {{item.date|date:"dd/MM/YYYY"}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="form-container-1">
            <mat-label>Zona</mat-label>
            <mat-select placeholder="Zone" formControlName="Zone" (selectionChange)="($event)" >
              <mat-option *ngFor="let item of ZoneEvents" [value]="item.id" (click)="getPrice(item.id);getZone();" >
                {{item.name}}
              </mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
          <p>Cantidad de entradas</p>
          <mat-select appearance="fill" >
            <mat-option type="text" formControlName="quantityForm" placeholder="quantityForm"
             *ngFor="let cant of cants" [value]="cant"  (click)="getTotal(cant);">
              {{cant}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        
      </form>

        <mat-form-field appearance="fill" class="w-50 ms-2">
            <mat-label>Monto</mat-label>
            <input type="text" matInput readonly="true" formControlName="totalForm" placeholder="totalForm">
            <p>{{totalprice}}</p>
          </mat-form-field>
    </div>
  </div>
    
      <br>
      <div >
          <br>
          <button mat-fab extended style=" background-color:#A32DE3;" class="text-white w-100" (click)="savePurchase();saveTickets();">IR A PAGAR</button>
      </div>
  </div>
</div>
</div>

  










